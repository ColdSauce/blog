<!DOCTYPE html>
<html lang="en-us">
<head>
<meta charset="utf-8">
<meta name="generator" content="Hugo 0.37.1" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta property="og:title" content="Censorship Resistance or: How I Stopped Worrying and Learned to Rendezvous">
<meta property="og:description" content="">
<meta property="og:image" content="https://blog.stefanaleksic.com/images/stylish.jpg">

<meta name="description" content="">

<meta name="twitter:title" content="Censorship Resistance or: How I Stopped Worrying and Learned to Rendezvous">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="https://blog.stefanaleksic.com/images/stylish.jpg">
<meta name="twitter:card" content="summary">




<link href="//fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/github.min.css">
<link rel="stylesheet" href="https://blog.stefanaleksic.com/css/normalize.css">
<link rel="stylesheet" href="https://blog.stefanaleksic.com/css/skeleton.css">
<link rel="stylesheet" href="https://blog.stefanaleksic.com/css/custom.css">
<link rel="alternate" href="/index.xml" type="application/rss+xml" title="ðŸ™ˆ   ðŸ™‰">
<title>Censorship Resistance or: How I Stopped Worrying and Learned to Rendezvous - ðŸ™ˆ   ðŸ™‰</title>
</head>
<body>

<div class="container">

	<header role="banner">
		<div class="header-logo">
      <a href="https://blog.stefanaleksic.com"><img src="https://blog.stefanaleksic.com/images/stylish.jpg" width="60" height="60" alt="ðŸ™ˆ   ðŸ™‰"></a>
		</div>
		
	</header>


	<main role="main">
		<article itemscope itemtype="http://schema.org/BlogPosting">
			<h1 class="entry-title" itemprop="headline">Censorship Resistance or: How I Stopped Worrying and Learned to Rendezvous</h1>
			<span class="entry-meta"><time itemprop="datePublished" datetime="2018-04-08">April 08, 2018</time></span>
			<section itemprop="entry-text">
				

<p>This post is about my thoughts on rendezvous protocols.</p>

<p>Before you enter a house, you need to find a door. Before you join a network, you need to find an IP address. For the internet, we have things like domain names and DNS that translate website URLs we found on search engines into IP addresses which act as the doors to join a network. This is what a rendezvous is. A way for your computer to find another computer to connect to in order to join a network.</p>

<p>In normal conditions, DNS is fine to use as a rendezvous protocol. It is simple and decentralized. There is great tooling for it, and the entire world supports it. <a href="http://awesome.datproject.org/dns-discovery">DNS is even used</a> in decentralized and distributed network scenarios. However, things start changing when trying to gain access a blocked network in a censored region.</p>

<p>Even though DNS is decentralized, default DNS resolvers such as an ISP can block requests for censored domain names. This means that if you request the IP address for &ldquo;google.com,&rdquo; the censor will give you back an incorrect IP address or not IP address at all. There are several ways to tackle this issue.</p>

<p>The most basic solution is to use another DNS resolver that doesn&rsquo;t block the DNS queries to censored sites. The issue with this is that DNS queries to those resolvers can be blocked in the IP layer. Even if they aren&rsquo;t being blocked, getting the IP address of another DNS resolver alone is an issue of rendezvous.</p>

<p>It seems to me that DNS infrastructure alone isn&rsquo;t well suited for rendezvous in hostile conditions.</p>

<p><img src="/images/turkey_dns.png" alt="turkey dns" />
<em>People spray painted Google&rsquo;s DNS Resolver IP Address used in Turkey when the government started censoring the internet via DNS</em></p>

<p>Before looking at specific solutions, it&rsquo;s important to look at the types of solutions that work well in the real world.
To do this, it&rsquo;s important to look at things through an economic perspective and a practicality perspective.</p>

<h2 id="economic-perspective">Economic Perspective</h2>

<p>The best way to tackle censorship isn&rsquo;t through a technological perspective but rather through an economic perspective. The internet is a global network of nodes. Some nodes are very important economically to a nation-state and can&rsquo;t be censored.</p>

<p>For example, take Amazon. Amazon&rsquo;s AWS network operates throughout the entire world. Governments can&rsquo;t censor Amazon&rsquo;s IP addresses because that would be a catastrophic blow to their economy. (<a href="https://torrentfreak.com/russia-asked-isps-to-block-13-5-million-amazon-ip-addresses-to-silence-one-app-180331/">This has been challenged recently with Russia blocking 13.5 million Amazon IPs</a>)</p>

<p>Leveraging economic disincentives combined with technological cleverness is the best way to develop censorship resistance.</p>

<p>Since the government operating the censored region gains massive economic incentives from keeping that company&rsquo;s websites un-censored, one can use that to their advantage and host a rendezvous system within it.</p>

<p>There are several censorship resistant systems that incorporate this idea. The largest one is <a href="https://trac.torproject.org/projects/tor/wiki/doc/meek">meek</a>. It allows users to connect to a Tor node via a technique known as domain fronting. You can read more about Domain Fronting <a href="http://www.icir.org/vern/papers/meek-PETS-2015.pdf">here</a>.</p>

<p>Domain fronting leverages the fact that censors can&rsquo;t reasonably block certain CDNs because that would hurt a lot of businesses in the region, and it would be detrimental more than it would be beneficial.</p>

<h2 id="practicality-perspective">Practicality Perspective</h2>

<p>There is a common saying in dissident elementary school children.</p>

<blockquote>
<p>They can&rsquo;t throw us all in detention!</p>
</blockquote>

<p>The children bring up an argument in practicality. It would be highly impractical to have every child go to detention because of an action all of them took.</p>

<p>The same is true for censors and censorship resistance networks. However, one must think in an incredibly large scale. Creating proxy networks large enough to withstand nation-state interference is very costly and resource intensive. Operating that many servers is not feasible.</p>

<p>That is, unless you&rsquo;re not using your own computers.</p>

<p>There have been several projects that have aimed at using other people&rsquo;s computers in clever ways to proxy data to and from Tor. My favorite one is &ldquo;OSS: Using Online Scanning Services for Censorship Circumvention.&rdquo; You can read the paper <a href="http://crypto.stanford.edu/~dabo/papers/redirects.pdf">here</a>. The basic idea is that they use scanning services freely available on the internet as a way to proxy the connection of two peers. An example they give is the website <code>PDFmyURL</code>.</p>

<p>Users provide this website a URL, and the website gives them back a PDF view of the URL&rsquo;s contents. They used this to proxy requests from one person to another in a really clever way. Alice initiates the connection by giving <code>PDFmyURL</code> a URL to Bob, the person they wish to connect to, along with some information in the URL such as Alice&rsquo;s IP address.</p>

<p><code>PDFmyURL</code> will send an HTTP GET request to Bob&rsquo;s server. Bob will reply with a HTTP status code 302 (temporary redirect) response and request that <code>PDFmyURL</code> redirects the request to Alice&rsquo;s IP address. However, he also includes data inside the URL via URL parameters.</p>

<p>Once Alice gets the redirect, she can redirect back to Bob by sending back a 302 redirect HTTP response to <code>PDFmyURL</code> with a URL to Bob along with some information she wants to send back to Bob.</p>

<p>This is repeated until the session finishes.</p>

<p>The other one that I really like is Flash Proxy. You can read the original paper <a href="https://crypto.stanford.edu/flashproxy/flashproxy.pdf">here</a>. Flash proxy creates abundant short lived proxies. A business can place an &ldquo;interent freedom&rdquo; badge on their site and the website&rsquo;s visitors run a piece of Javascript that converts their browsers into proxies to a Tor relay node. This project has been deprecated but there is now a new project called <a href="https://github.com/keroserene/snowflake">Snowflake</a> which is doing the same thing using WebRTC.</p>

<h2 id="issues">Issues</h2>

<p>In rendezvous, one of the most worrying issues is trust. How can one make sure that the network they are connecting to is the actual network they want to connect to? How can they make sure the user who wants to rendezvous is actually legitimate?</p>

<p>How can you set up a rendezvous scheme where most things are blocked and the censor doesn&rsquo;t care about economic penalties?</p>

<p>How do you prevent DOS attacks?</p>

<p>How do you make it harder for censors to track rendezvous points?</p>

<hr />

<dl>
<dt>Please let me know what you think about these ideas by emailing me or Tweeting at me!</dt>
</dl>

<p>:wq</p>

			</section>
		</article>
	</main>


	<footer role="contentinfo">
		<div class="hr"></div>
		<div class="footer-link">
			<a href="mailto:stefan@stefanaleksic.com" target="_blank">Email</a>
			<a href="https://twitter.com/stayfun_" target="_blank">Twitter</a>
			
			<a href="https://github.com/coldsauce/" target="_blank">GitHub</a>
			
		</div>
	</footer>

</div>

<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-136703198-1', 'auto');
	ga('send', 'pageview');
</script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

</body>
</html>
